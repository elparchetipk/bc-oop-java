# Ejercicio 3: Uso Avanzado de `super`

## üìã Informaci√≥n del Ejercicio

- **Dificultad:** ‚≠ê‚≠ê Intermedio
- **Duraci√≥n estimada:** 35 minutos
- **Objetivo:** Dominar el uso de `super()`, `super.metodo()` y `super.atributo`

---

## üéØ Objetivos de Aprendizaje

Al completar este ejercicio, podr√°s:

1. Usar `super()` para llamar constructores del padre
2. Usar `super.metodo()` para llamar m√©todos sobrescritos
3. Entender cu√°ndo y por qu√© usar `super`
4. Practicar la sobrescritura consciente de m√©todos
5. Aplicar herencia multinivel

---

## üìù Enunciado

Crea un sistema de personas con herencia multinivel que demuestre todos los usos de `super`:

**Jerarqu√≠a:**
```
Persona ‚Üí Empleado ‚Üí Gerente
```

### Clase Persona (Abuelo)
- Atributos: nombre (String), edad (int)
- Constructor con par√°metros
- M√©todos:
  - `presentarse()`: "Hola, soy {nombre} y tengo {edad} a√±os"
  - `trabajar()`: "{nombre} est√° realizando una tarea"

### Clase Empleado (Padre)
- Atributos adicionales: salario (double), departamento (String)
- Constructor que use `super()`
- M√©todos:
  - `presentarse()`: Llama a `super.presentarse()` y agrega: "Trabajo en {departamento}"
  - `trabajar()`: Llama a `super.trabajar()` y agrega: "con un salario de ${salario}"
  - `recibirPago()`: "{nombre} ha recibido ${salario}"

### Clase Gerente (Hijo)
- Atributos adicionales: bono (double), equipoACargo (int)
- Constructor que use `super()`
- M√©todos:
  - `presentarse()`: Llama a `super.presentarse()` y agrega: "Dirijo un equipo de {equipoACargo} personas"
  - `trabajar()`: Llama a `super.trabajar()` y agrega: "y gestiono {equipoACargo} empleados"
  - `recibirPago()`: Sobrescribe para incluir el bono
  - `dirigirReunion()`: "{nombre} est√° dirigiendo una reuni√≥n"

---

## üìÇ Estructura de Archivos

```
ejercicio-03-uso-super/
‚îú‚îÄ‚îÄ README.md (este archivo)
‚îú‚îÄ‚îÄ Persona.java
‚îú‚îÄ‚îÄ Empleado.java
‚îú‚îÄ‚îÄ Gerente.java
‚îî‚îÄ‚îÄ Main.java
```

---

## üî® Plantilla de Implementaci√≥n

### Persona.java

```java
public class Persona {
    protected String nombre;
    protected int edad;
    
    public Persona(String nombre, int edad) {
        this.nombre = nombre;
        this.edad = edad;
        System.out.println("‚Üí Constructor Persona ejecutado");
    }
    
    public void presentarse() {
        System.out.println("Hola, soy " + nombre + " y tengo " + edad + " a√±os");
    }
    
    public void trabajar() {
        System.out.print(nombre + " est√° realizando una tarea");
    }
    
    // Getters
    public String getNombre() {
        return nombre;
    }
    
    public int getEdad() {
        return edad;
    }
}
```

### Empleado.java

```java
public class Empleado extends Persona {
    // TODO: Declarar atributos protected salario y departamento
    
    // TODO: Constructor que reciba nombre, edad, salario y departamento
    //       Debe llamar a super(nombre, edad)
    //       Imprimir "‚Üí Constructor Empleado ejecutado"
    
    // TODO: Sobrescribir presentarse()
    //       Llamar a super.presentarse()
    //       Agregar informaci√≥n del departamento
    
    // TODO: Sobrescribir trabajar()
    //       Llamar a super.trabajar()
    //       Agregar informaci√≥n del salario (sin salto de l√≠nea)
    
    // TODO: M√©todo recibirPago()
    
    // Getters
}
```

### Gerente.java

```java
public class Gerente extends Empleado {
    // TODO: Declarar atributos privados bono y equipoACargo
    
    // TODO: Constructor que reciba todos los par√°metros necesarios
    //       Debe llamar a super() con los par√°metros correspondientes
    //       Imprimir "‚Üí Constructor Gerente ejecutado"
    
    // TODO: Sobrescribir presentarse()
    //       Llamar a super.presentarse()
    //       Agregar informaci√≥n del equipo
    
    // TODO: Sobrescribir trabajar()
    //       Llamar a super.trabajar()
    //       Agregar informaci√≥n de gesti√≥n
    
    // TODO: Sobrescribir recibirPago()
    //       Calcular salario + bono
    //       Mostrar desglose
    
    // TODO: M√©todo dirigirReunion()
    
    // Getters
}
```

### Main.java

```java
public class Main {
    public static void main(String[] args) {
        // TODO: Crear un objeto Persona
        // TODO: Crear un objeto Empleado
        // TODO: Crear un objeto Gerente
        
        // TODO: Probar presentarse() de cada uno
        // TODO: Probar trabajar() de cada uno
        // TODO: Probar recibirPago() donde aplique
    }
}
```

---

## ‚úÖ Soluci√≥n Completa

<details>
<summary>Click para ver la soluci√≥n (intenta resolverlo primero)</summary>

### Empleado.java

```java
public class Empleado extends Persona {
    protected double salario;
    protected String departamento;
    
    public Empleado(String nombre, int edad, double salario, String departamento) {
        super(nombre, edad);  // Llama al constructor de Persona
        this.salario = salario;
        this.departamento = departamento;
        System.out.println("‚Üí Constructor Empleado ejecutado");
    }
    
    @Override
    public void presentarse() {
        super.presentarse();  // Llama al m√©todo de Persona
        System.out.println("Trabajo en " + departamento);
    }
    
    @Override
    public void trabajar() {
        super.trabajar();  // Llama al m√©todo de Persona
        System.out.println(" con un salario de $" + salario);
    }
    
    public void recibirPago() {
        System.out.println(nombre + " ha recibido $" + salario);
    }
    
    public double getSalario() {
        return salario;
    }
    
    public String getDepartamento() {
        return departamento;
    }
}
```

### Gerente.java

```java
public class Gerente extends Empleado {
    private double bono;
    private int equipoACargo;
    
    public Gerente(String nombre, int edad, double salario, String departamento, 
                   double bono, int equipoACargo) {
        super(nombre, edad, salario, departamento);  // Llama al constructor de Empleado
        this.bono = bono;
        this.equipoACargo = equipoACargo;
        System.out.println("‚Üí Constructor Gerente ejecutado");
    }
    
    @Override
    public void presentarse() {
        super.presentarse();  // Llama al m√©todo de Empleado (que llama al de Persona)
        System.out.println("Dirijo un equipo de " + equipoACargo + " personas");
    }
    
    @Override
    public void trabajar() {
        super.trabajar();  // Llama al m√©todo de Empleado
        System.out.println("y gestiono " + equipoACargo + " empleados");
    }
    
    @Override
    public void recibirPago() {
        double pagoTotal = salario + bono;
        System.out.println(nombre + " ha recibido:");
        System.out.println("  Salario base: $" + salario);
        System.out.println("  Bono:         $" + bono);
        System.out.println("  Total:        $" + pagoTotal);
    }
    
    public void dirigirReunion() {
        System.out.println(nombre + " est√° dirigiendo una reuni√≥n");
    }
    
    public double getBono() {
        return bono;
    }
    
    public int getEquipoACargo() {
        return equipoACargo;
    }
}
```

### Main.java

```java
public class Main {
    public static void main(String[] args) {
        System.out.println("=== CREANDO OBJETOS ===\n");
        
        System.out.println("1. Creando Persona:");
        Persona persona = new Persona("Ana", 25);
        
        System.out.println("\n2. Creando Empleado:");
        Empleado empleado = new Empleado("Carlos", 30, 3000.0, "IT");
        
        System.out.println("\n3. Creando Gerente:");
        Gerente gerente = new Gerente("Mar√≠a", 40, 5000.0, "Ventas", 1500.0, 10);
        
        // Presentaciones
        System.out.println("\n=== PRESENTACIONES ===\n");
        
        System.out.println("Persona:");
        persona.presentarse();
        
        System.out.println("\nEmpleado:");
        empleado.presentarse();
        
        System.out.println("\nGerente:");
        gerente.presentarse();
        
        // Trabajando
        System.out.println("\n=== TRABAJANDO ===\n");
        
        System.out.println("Persona:");
        persona.trabajar();
        System.out.println();
        
        System.out.println("\nEmpleado:");
        empleado.trabajar();
        
        System.out.println("\nGerente:");
        gerente.trabajar();
        
        // Recibiendo pago
        System.out.println("\n=== RECIBIENDO PAGO ===\n");
        
        empleado.recibirPago();
        System.out.println();
        gerente.recibirPago();
        
        // M√©todo espec√≠fico de Gerente
        System.out.println("\n=== ACCIONES ESPEC√çFICAS ===\n");
        gerente.dirigirReunion();
    }
}
```

### Salida Esperada

```
=== CREANDO OBJETOS ===

1. Creando Persona:
‚Üí Constructor Persona ejecutado

2. Creando Empleado:
‚Üí Constructor Persona ejecutado
‚Üí Constructor Empleado ejecutado

3. Creando Gerente:
‚Üí Constructor Persona ejecutado
‚Üí Constructor Empleado ejecutado
‚Üí Constructor Gerente ejecutado

=== PRESENTACIONES ===

Persona:
Hola, soy Ana y tengo 25 a√±os

Empleado:
Hola, soy Carlos y tengo 30 a√±os
Trabajo en IT

Gerente:
Hola, soy Mar√≠a y tengo 40 a√±os
Trabajo en Ventas
Dirijo un equipo de 10 personas

=== TRABAJANDO ===

Persona:
Ana est√° realizando una tarea

Empleado:
Carlos est√° realizando una tarea con un salario de $3000.0

Gerente:
Mar√≠a est√° realizando una tarea con un salario de $5000.0
y gestiono 10 empleados

=== RECIBIENDO PAGO ===

Carlos ha recibido $3000.0

Mar√≠a ha recibido:
  Salario base: $5000.0
  Bono:         $1500.0
  Total:        $6500.0

=== ACCIONES ESPEC√çFICAS ===

Mar√≠a est√° dirigiendo una reuni√≥n
```

</details>

---

## üß™ Casos de Prueba

### Test 1: Orden de Constructores
```java
Gerente g = new Gerente("Luis", 45, 6000, "TI", 2000, 15);
// Debe imprimir:
// ‚Üí Constructor Persona ejecutado
// ‚Üí Constructor Empleado ejecutado
// ‚Üí Constructor Gerente ejecutado
```

### Test 2: Cadena de Llamadas super.presentarse()
```java
gerente.presentarse();
// Debe mostrar informaci√≥n de los 3 niveles:
// - Datos de Persona (nombre, edad)
// - Datos de Empleado (departamento)
// - Datos de Gerente (equipo)
```

### Test 3: Sobrescritura Correcta
```java
empleado.trabajar();  // Llama a super.trabajar() + salario
gerente.trabajar();   // Llama a super.trabajar() de Empleado + gesti√≥n
```

---

## üìä Diagrama de Flujo de `super`

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   gerente.presentarse()                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Gerente.presentarse() {               ‚îÇ
‚îÇ     super.presentarse();  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ     // info gerente              ‚îÇ      ‚îÇ
‚îÇ   }                              ‚îÇ      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                   ‚îÇ
                                   ‚ñº
               ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
               ‚îÇ   Empleado.presentarse() {              ‚îÇ
               ‚îÇ     super.presentarse();  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
               ‚îÇ     // info empleado             ‚îÇ      ‚îÇ
               ‚îÇ   }                              ‚îÇ      ‚îÇ
               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                  ‚îÇ
                                                  ‚ñº
                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                              ‚îÇ   Persona.presentarse() {           ‚îÇ
                              ‚îÇ     // info persona                 ‚îÇ
                              ‚îÇ   }                                 ‚îÇ
                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìö Conceptos Clave Demostrados

### 1. `super()` en Constructores

```java
public Gerente(...) {
    super(...);  // DEBE ser la primera l√≠nea
    // inicializaci√≥n propia
}
```

**Importante:** `super()` SIEMPRE debe ser la primera instrucci√≥n.

### 2. `super.metodo()` para Extender Funcionalidad

```java
@Override
public void presentarse() {
    super.presentarse();  // Reutiliza c√≥digo del padre
    // Agrega funcionalidad adicional
}
```

### 3. Herencia Multinivel

```
Persona (abuelo)
   ‚Üì
Empleado (padre) ‚Üê puede usar super para acceder a Persona
   ‚Üì
Gerente (hijo) ‚Üê puede usar super para acceder a Empleado
```

---

## ‚úÖ Criterios de Evaluaci√≥n

| Criterio | Puntos | Descripci√≥n |
|----------|--------|-------------|
| **Constructores con super()** | 25 | Todos los constructores llaman correctamente a super() |
| **Sobrescritura con super.metodo()** | 30 | M√©todos sobrescritos usan super para extender funcionalidad |
| **Orden de ejecuci√≥n** | 15 | Se respeta el orden correcto de constructores |
| **Modificadores de acceso** | 10 | `protected` usado apropiadamente |
| **@Override correcto** | 10 | Todos los m√©todos sobrescritos tienen la anotaci√≥n |
| **Programa Main completo** | 10 | Demuestra todas las funcionalidades |

**Total:** 100 puntos

---

## üöÄ Desaf√≠os Extra

### Nivel 1: Agregar validaciones
```java
public Empleado(...) {
    super(nombre, edad);
    if (salario < 0) {
        throw new IllegalArgumentException("Salario no puede ser negativo");
    }
    this.salario = salario;
}
```

### Nivel 2: M√©todo toString()
Sobrescribe `toString()` en cada clase usando `super.toString()`:
```java
@Override
public String toString() {
    return super.toString() + ", Departamento: " + departamento;
}
```

### Nivel 3: Herencia de 4 niveles
Agrega `GerenteRegional extends Gerente` con:
- Atributo: `region` (String)
- M√©todo: `gestionarGerentes()`

---

## üí° Preguntas de Reflexi√≥n

1. ¬øQu√© pasa si no pones `super()` en el constructor de `Empleado`?
2. ¬øPor qu√© es √∫til llamar a `super.metodo()` en lugar de reescribir todo?
3. ¬øEn qu√© orden se ejecutan los constructores en herencia multinivel?
4. ¬øCu√°ndo NO deber√≠as usar `super.metodo()` en un m√©todo sobrescrito?

---

## ‚ö†Ô∏è Errores Comunes

### Error 1: super() no es la primera l√≠nea
```java
// ‚ùå ERROR
public Empleado(...) {
    this.salario = salario;  // Esto va DESPU√âS de super()
    super(nombre, edad);
}

// ‚úÖ CORRECTO
public Empleado(...) {
    super(nombre, edad);
    this.salario = salario;
}
```

### Error 2: No usar super en m√©todo sobrescrito
```java
// ‚ö†Ô∏è Pierde funcionalidad del padre
@Override
public void presentarse() {
    System.out.println("Trabajo en " + departamento);
    // Falta la presentaci√≥n b√°sica de Persona
}

// ‚úÖ CORRECTO
@Override
public void presentarse() {
    super.presentarse();  // Mantiene funcionalidad del padre
    System.out.println("Trabajo en " + departamento);
}
```

### Error 3: Confundir this con super
```java
// this ‚Üí referencia a la clase actual
// super ‚Üí referencia a la clase padre

this.salario   // ‚úÖ Atributo de esta clase
super.nombre   // ‚úÖ Atributo heredado del padre
```

---

## üìö Recursos Relacionados

- **Teor√≠a:** `/1-teoria/04-palabra-super.md`
- **Teor√≠a:** `/1-teoria/03-jerarquias-clases.md`
- **Referencia:** `/3-recursos/cheatsheet-herencia.md`

---

**¬°√âxito con el ejercicio!** üöÄ

Recuerda: `super` es tu mejor amigo para reutilizar c√≥digo y extender funcionalidad en herencia.
