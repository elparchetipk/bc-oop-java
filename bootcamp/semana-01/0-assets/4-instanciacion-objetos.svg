<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #2c3e50; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #34495e; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #2c3e50; }
      .small-text { font-family: Arial, sans-serif; font-size: 12px; fill: #7f8c8d; }
      .code { font-family: 'Courier New', monospace; font-size: 13px; fill: #2c3e50; }
      .code-keyword { fill: #9b59b6; font-weight: bold; }
      .code-class { fill: #27ae60; font-weight: bold; }
      .code-variable { fill: #3498db; }
      .step-box { fill: #fff; stroke: #3498db; stroke-width: 2; }
      .arrow { fill: none; stroke: #27ae60; stroke-width: 3; }
    </style>
    <marker id="arrow-step" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto">
      <polygon points="0 0, 10 5, 0 10" fill="#27ae60" />
    </marker>
  </defs>

  <!-- TÃ­tulo -->
  <text x="450" y="40" text-anchor="middle" class="title">Proceso de InstanciaciÃ³n de Objetos</text>
  <text x="450" y="65" text-anchor="middle" class="small-text">CÃ³mo crear objetos a partir de una clase en Java</text>

  <!-- CÃ³digo completo de ejemplo -->
  <g id="codigo-ejemplo">
    <rect x="50" y="90" width="800" height="100" rx="8" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2"/>
    
    <text x="70" y="115" class="code">
      <tspan class="code-class">Coche</tspan>
      <tspan class="code-variable"> miCoche</tspan>
      <tspan> = </tspan>
      <tspan class="code-keyword">new</tspan>
      <tspan> </tspan>
      <tspan class="code-class">Coche</tspan>
      <tspan>();</tspan>
    </text>
    
    <!-- Anotaciones -->
    <text x="70" y="145" class="small-text">
      <tspan>   â†‘          â†‘        â†‘       â†‘</tspan>
    </text>
    <text x="70" y="165" class="small-text" fill="#3498db">
      <tspan>  Tipo    Variable  new   Constructor</tspan>
    </text>
  </g>

  <!-- PASO 1 -->
  <g id="paso1">
    <rect x="50" y="220" width="180" height="120" rx="8" class="step-box"/>
    
    <circle cx="90" cy="250" r="20" fill="#3498db"/>
    <text x="90" y="258" text-anchor="middle" class="subtitle" fill="white">1</text>
    
    <text x="120" y="258" class="subtitle" fill="#3498db">DeclaraciÃ³n</text>
    
    <text x="60" y="285" class="code">
      <tspan class="code-class">Coche</tspan>
      <tspan class="code-variable"> miCoche</tspan>;
    </text>
    
    <text x="60" y="310" class="small-text">Se declara una</text>
    <text x="60" y="325" class="small-text">variable de tipo Coche.</text>
  </g>

  <!-- Flecha 1 â†’ 2 -->
  <path d="M 230 280 L 270 280" class="arrow" marker-end="url(#arrow-step)"/>

  <!-- PASO 2 -->
  <g id="paso2">
    <rect x="270" y="220" width="200" height="120" rx="8" class="step-box"/>
    
    <circle cx="310" cy="250" r="20" fill="#3498db"/>
    <text x="310" y="258" text-anchor="middle" class="subtitle" fill="white">2</text>
    
    <text x="340" y="258" class="subtitle" fill="#3498db">Operador new</text>
    
    <text x="280" y="285" class="code">
      <tspan class="code-keyword">new</tspan>
      <tspan> </tspan>
      <tspan class="code-class">Coche</tspan>
      <tspan>()</tspan>
    </text>
    
    <text x="280" y="310" class="small-text">Reserva memoria</text>
    <text x="280" y="325" class="small-text">para el objeto.</text>
  </g>

  <!-- Flecha 2 â†’ 3 -->
  <path d="M 470 280 L 510 280" class="arrow" marker-end="url(#arrow-step)"/>

  <!-- PASO 3 -->
  <g id="paso3">
    <rect x="510" y="220" width="180" height="120" rx="8" class="step-box"/>
    
    <circle cx="550" cy="250" r="20" fill="#3498db"/>
    <text x="550" y="258" text-anchor="middle" class="subtitle" fill="white">3</text>
    
    <text x="580" y="258" class="subtitle" fill="#3498db">Constructor</text>
    
    <text x="520" y="285" class="code">
      <tspan class="code-class">Coche</tspan>
      <tspan>()</tspan>
    </text>
    
    <text x="520" y="310" class="small-text">Inicializa el objeto</text>
    <text x="520" y="325" class="small-text">(ejecuta constructor).</text>
  </g>

  <!-- Flecha 3 â†’ 4 -->
  <path d="M 690 280 L 720 280" class="arrow" marker-end="url(#arrow-step)"/>

  <!-- PASO 4 -->
  <g id="paso4">
    <rect x="720" y="220" width="130" height="120" rx="8" class="step-box"/>
    
    <circle cx="755" cy="250" r="20" fill="#3498db"/>
    <text x="755" y="258" text-anchor="middle" class="subtitle" fill="white">4</text>
    
    <text x="730" y="280" class="subtitle" fill="#3498db" font-size="14">AsignaciÃ³n</text>
    
    <text x="730" y="305" class="code" font-size="16">=</text>
    
    <text x="730" y="325" class="small-text">Asigna referencia</text>
  </g>

  <!-- Resultado visual en memoria -->
  <g id="memoria">
    <text x="450" y="380" text-anchor="middle" class="subtitle">Estado en Memoria</text>
    
    <!-- Variable (referencia) -->
    <g id="variable-ref">
      <rect x="150" y="400" width="200" height="80" rx="5" fill="#e8f5e9" stroke="#27ae60" stroke-width="2"/>
      <text x="250" y="425" text-anchor="middle" class="text" font-weight="bold">Variable: miCoche</text>
      <text x="250" y="450" text-anchor="middle" class="small-text">(Referencia en Stack)</text>
      <text x="250" y="470" text-anchor="middle" class="code">0x1A2B3C</text>
    </g>
    
    <!-- Flecha apuntando -->
    <path d="M 350 440 L 520 440" class="arrow" marker-end="url(#arrow-step)" stroke-dasharray="5,5"/>
    <text x="420" y="430" class="small-text" fill="#27ae60" font-style="italic">apunta a</text>
    
    <!-- Objeto en heap -->
    <g id="objeto-heap">
      <rect x="520" y="390" width="280" height="160" rx="8" fill="#fff3cd" stroke="#ffc107" stroke-width="3"/>
      
      <text x="660" y="415" text-anchor="middle" class="text" font-weight="bold">Objeto en Heap</text>
      <text x="660" y="435" text-anchor="middle" class="small-text">(DirecciÃ³n: 0x1A2B3C)</text>
      
      <line x1="535" y1="445" x2="785" y2="445" stroke="#ffc107" stroke-width="1"/>
      
      <text x="535" y="465" class="small-text">ðŸ“Š Atributos:</text>
      <text x="545" y="485" class="code">marca = null</text>
      <text x="545" y="505" class="code">modelo = null</text>
      <text x="545" y="525" class="code">aÃ±o = 0</text>
    </g>
  </g>

  <!-- Nota importante -->
  <rect x="100" y="565" width="700" height="25" rx="5" fill="#d1ecf1" stroke="#17a2b8" stroke-width="2"/>
  <text x="450" y="582" text-anchor="middle" class="text">
    ðŸ’¡ La variable guarda la <tspan font-weight="bold">referencia</tspan> (direcciÃ³n) del objeto, no el objeto en sÃ­
  </text>

  <!-- Footer -->
  <text x="10" y="597" class="small-text">Bootcamp POO Java - SENA</text>
  <text x="890" y="597" text-anchor="end" class="small-text">Semana 01</text>
</svg>
